N2D("SmartSliderWidgetBulletTransition",function(t,i){function e(i,e){this.slider=i,this.slider.started(t.proxy(this.start,this,e))}return e.prototype.start=function(i){if(this.slider.sliderElement.data("bullet"))return!1;this.slider.sliderElement.data("bullet",this),this.axis="horizontal",this.offset=0,this.parameters=i,this.bar=this.slider.sliderElement.find(".nextend-bullet-bar");var e="universalclick";if("mouseenter"==i.action&&(e="mouseenter"),this.originalDots=this.dots=this.bar.find("div").on(e,t.proxy(this.onDotClick,this)),this.slider.isShuffled){for(var s=[],o=[],a=0;this.slider.realSlides.length>a;a++){var r=this.slider.realSlides[a];s.push(this.dots.get(r.originalIndex)),o.push(this.parameters.thumbnails[r.originalIndex]),i.numeric&&this.dots.eq(r.originalIndex).html(a+1)}this.originalDots=this.dots=t(s).appendTo(this.dots.parent()),this.parameters.thumbnails=o}if(this.slider.sliderElement.on({slideCountChanged:t.proxy(this.onSlideCountChanged,this),sliderSwitchTo:t.proxy(this.onSlideSwitch,this)}),this.slider.firstSlideReady.done(t.proxy(this.onFirstSlideSet,this)),0==i.overlay){var n=!1;switch(i.area){case 1:n="Top";break;case 12:n="Bottom";break;case 5:n="Left",this.axis="vertical";break;case 8:n="Right",this.axis="vertical"}n&&(this.offset=parseFloat(this.bar.data("offset")),this.slider.responsive.addStaticMargin(n,this))}this.initThumbnails()},e.prototype.onFirstSlideSet=function(t){this.dots.eq(t.index).addClass("n2-active")},e.prototype.onDotClick=function(i){this.slider.directionalChangeToReal(this.originalDots.index(i.currentTarget)),t(i.target).blur()},e.prototype.onSlideSwitch=function(t,i){this.dots.filter(".n2-active").removeClass("n2-active"),this.dots.eq(i).addClass("n2-active")},e.prototype.isVisible=function(){return this.bar.is(":visible")},e.prototype.getSize=function(){return"horizontal"==this.axis?this.bar.height()+this.offset:this.bar.width()+this.offset},e.prototype.initThumbnails=function(){this.parameters.thumbnails.length>0&&this.dots.each(t.proxy(function(i,e){""!=this.parameters.thumbnails[i]&&t(e).on({universalenter:t.proxy(this.showThumbnail,this,i)},{leaveOnSecond:!0})},this))},e.prototype.showThumbnail=function(i,e){var s=this.getThumbnail(i);NextendTween.to(s,.3,{opacity:1}).play(),this.originalDots.eq(i).on("universalleave.thumbnailleave",t.proxy(this.hideThumbnail,this,i,s))},e.prototype.hideThumbnail=function(t,i,e){e.stopPropagation(),this.originalDots.eq(t).off("universalleave.thumbnailleave"),NextendTween.to(i,.3,{opacity:0,onComplete:function(){i.remove()}}).play()},e.prototype.getThumbnail=function(i){var e=this.originalDots.eq(i),s=this.slider.sliderElement.offset(),o=e.offset(),a=e.outerWidth(),r=e.outerHeight(),n=t("<div/>").append(t("<div/>").css({width:this.parameters.thumbnailWidth,height:this.parameters.thumbnailHeight,backgroundImage:'url("'+this.parameters.thumbnails[i]+'")'}).addClass("n2-ss-bullet-thumbnail")).addClass(this.parameters.thumbnailStyle).addClass("n2-ss-bullet-thumbnail-container").appendTo(this.slider.sliderElement);switch(this.parameters.thumbnailPosition){case"right":n.css({left:o.left-s.left+a,top:o.top-s.top+r/2-n.outerHeight(!0)/2});break;case"left":n.css({left:o.left-s.left-n.outerWidth(!0),top:o.top-s.top+r/2-n.outerHeight(!0)/2});break;case"top":n.css({left:o.left-s.left+a/2-n.outerWidth(!0)/2,top:o.top-s.top-n.outerHeight(!0)});break;case"bottom":n.css({left:o.left-s.left+a/2-n.outerWidth(!0)/2,top:o.top-s.top+r})}return e.data("thumbnail",n),n},e.prototype.onSlideCountChanged=function(i,e,s){this.dots=t();for(var o=0;this.originalDots.length>o;o++)o%s==0?this.dots=this.dots.add(this.originalDots.eq(o).css("display","")):this.originalDots.eq(o).css("display","none");this.parameters.numeric&&this.dots.each(function(t,i){i.innerHTML=t+1})},e});